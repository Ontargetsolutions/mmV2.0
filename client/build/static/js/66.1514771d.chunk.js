(this.webpackJsonpreactify=this.webpackJsonpreactify||[]).push([[66],{1431:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(13),s=a(25),o=a(17),l=a(26),i=a(27),c=a(28),m=a(0),u=a.n(m),d=a(32),f=a.n(d),h=a(384),C=a(368),g=a(369),E=a(362),p=a(363),v=a(370),b=a(359),N=a(371),y=a(372),w=a(1015),k=a(670),S=a(52),j=a(45),D=a(19),_=a(416),x=a(1416),O=a(1337),M=a(1335),R=a(1336),F=a(1334),A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"open",value:function(){this.setState({open:!0})}},{key:"close",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.message,r=t.onConfirm;return u.a.createElement(x.a,{open:this.state.open,onClose:function(){return e.close()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},u.a.createElement(F.a,{id:"alert-dialog-title"},a),u.a.createElement(M.a,null,u.a.createElement(R.a,{id:"alert-dialog-description"},n)),u.a.createElement(O.a,null,u.a.createElement(y.a,{onClick:function(){return e.close()},className:"btn-danger text-white"},"Cancel"),u.a.createElement(y.a,{onClick:r,className:"btn-primary text-white",autoFocus:!0},"Yes")))}}]),t}(m.Component),z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={sectionReload:!1,newCustomers:null,selectedDeletedCustomer:null,editCustomerModal:!1,editCustomer:null,snackbar:!1,successMessage:"",addNewCustomerForm:!1,addNewCustomerDetails:{customer_email:"",customer_name:"",id:"",photo_url:""}},a.toggleEditCustomerModal=function(){a.setState({editCustomerModal:!a.state.editCustomerModal})},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getNewCustomers()}},{key:"getNewCustomers",value:function(){var e=this;this.setState({sectionReload:!0}),j.a.get("newCustomers.js").then((function(t){e.setState({newCustomers:t.data,sectionReload:!1})})).catch((function(t){e.setState({newCustomers:null,sectionReload:!1})}))}},{key:"onDeleteCustomer",value:function(e){this.refs.deleteConfirmationDialog.open(),this.setState({selectedDeletedCustomer:e})}},{key:"deleteCustomer",value:function(){var e=this;this.refs.deleteConfirmationDialog.close(),this.setState({sectionReload:!0});var t=this.state.newCustomers,a=t.indexOf(this.state.selectedDeletedCustomer);setTimeout((function(){t.splice(a,1),e.setState({newCustomers:t,snackbar:!0,successMessage:"Customer Deleted Successfully",sectionReload:!1})}),1500)}},{key:"onEditCustomer",value:function(e){this.setState({editCustomerModal:!0,editCustomer:e,addNewCustomerForm:!1})}},{key:"onSubmitCustomerEditDetailForm",value:function(){var e=this.state,t=e.editCustomer,a=e.newCustomers;if(""!==t.customer_name&&""!==t.customer_email){var n;this.setState({editCustomerModal:!1,sectionReload:!0});for(var s=0;s<a.length;s++){a[s].customer_id===t.customer_id&&(n=s)}var o=this;setTimeout((function(){o.setState({sectionReload:!1,snackbar:!0,successMessage:"Customer Updated Success"}),o.setState({newCustomers:f()(a,Object(r.a)({},n,{$set:t}))})}),1500)}}},{key:"onChangeCustomerDetails",value:function(e,t){this.setState({editCustomer:Object(n.a)({},this.state.editCustomer,Object(r.a)({},e,t))})}},{key:"addNewCustomer",value:function(){this.setState({editCustomerModal:!0,addNewCustomerForm:!0,editCustomer:null,addNewCustomerDetails:{customer_email:"",customer_name:"",id:"",photo_url:""}})}},{key:"onChangeCustomerAddNewForm",value:function(e,t){this.setState({addNewCustomerDetails:Object(n.a)({},this.state.addNewCustomerDetails,Object(r.a)({},e,t))})}},{key:"onSubmitAddNewCustomerForm",value:function(){var e=this.state.addNewCustomerDetails;if(""!==e.customer_name&&""!==e.customer_email){this.setState({editCustomerModal:!1,sectionReload:!0});var t=e;t.id=(new Date).getTime(),t.photo_url="";var a=this.state.newCustomers,n=this;setTimeout((function(){a.push(t),n.setState({newCustomers:a,sectionReload:!1,snackbar:!0,successMessage:"Customer Added Successfully"})}),1500)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.newCustomers,n=t.sectionReload,r=t.editCustomerModal,s=t.addNewCustomerForm,o=t.editCustomer,l=t.snackbar,i=t.successMessage,c=t.addNewCustomerDetails;return u.a.createElement(m.Fragment,null,n&&u.a.createElement(_.a,null),u.a.createElement(S.Scrollbars,{className:"rct-scroll",autoHeight:!0,autoHeightMin:100,autoHeightMax:290,autoHide:!0},u.a.createElement("ul",{className:"list-group new-customer-list"},a&&a.map((function(t,a){return u.a.createElement("li",{className:"list-group-item d-flex justify-content-between",key:a},u.a.createElement("div",{className:"d-flex align-items-start"},u.a.createElement("div",{className:"media"},u.a.createElement("div",{className:"media-left mr-15"},""===t.photo_url?u.a.createElement(k.a,null,t.customer_name.charAt(0)):u.a.createElement("img",{src:t.photo_url,alt:"project logo",className:"media-object rounded-circle",width:"40",height:"40"})),u.a.createElement("div",{className:"media-body"},u.a.createElement("span",{className:"d-block fs-14"},t.customer_name),u.a.createElement("span",{className:"d-block fs-12 text-muted"},t.customer_email)))),u.a.createElement("div",{className:"d-flex align-items-end"},u.a.createElement("button",{type:"button",className:"text-primary",onClick:function(){return e.onEditCustomer(t)}},u.a.createElement("i",{className:"zmdi zmdi-edit"})),u.a.createElement("button",{type:"button",className:"text-danger",onClick:function(){return e.onDeleteCustomer(t)}},u.a.createElement("i",{className:"zmdi zmdi-close"}))))})))),u.a.createElement("div",{className:"d-flex p-3"},u.a.createElement(y.a,{variant:"contained",color:"primary",className:"text-white",onClick:function(){return e.addNewCustomer()}},u.a.createElement(D.a,{id:"widgets.addNew"}))),u.a.createElement(A,{ref:"deleteConfirmationDialog",title:"Are You Sure Want To Delete?",message:"Are You Sure Want To Delete Permanently This Customer.",onConfirm:function(){return e.deleteCustomer()}}),r&&u.a.createElement(h.a,{isOpen:r,toggle:this.toggleEditCustomerModal},u.a.createElement(C.a,{toggle:this.toggleEditCustomerModal},s?"Add New Customer":"Edit Customer"),u.a.createElement(g.a,null,s?u.a.createElement(E.a,null,u.a.createElement(p.a,null,u.a.createElement(v.a,{for:"customerName"},"Name"),u.a.createElement(b.a,{type:"text",name:"name",id:"customerName",value:c.customer_name,onChange:function(t){return e.onChangeCustomerAddNewForm("customer_name",t.target.value)}})),u.a.createElement(p.a,null,u.a.createElement(v.a,{for:"customerEmail"},"Email"),u.a.createElement(b.a,{type:"email",name:"email",id:"customerEmail",value:c.customer_email,onChange:function(t){return e.onChangeCustomerAddNewForm("customer_email",t.target.value)}}))):u.a.createElement(E.a,null,u.a.createElement(p.a,null,u.a.createElement(v.a,{for:"customerId"},"Id"),u.a.createElement(b.a,{type:"text",name:"name",id:"customerId",defaultValue:o.customer_id,readOnly:!0})),u.a.createElement(p.a,null,u.a.createElement(v.a,{for:"customerName"},"Name"),u.a.createElement(b.a,{type:"text",name:"name",id:"customerName",value:o.customer_name,onChange:function(t){return e.onChangeCustomerDetails("customer_name",t.target.value)}})),u.a.createElement(p.a,null,u.a.createElement(v.a,{for:"customerEmail"},"Email"),u.a.createElement(b.a,{type:"email",name:"email",id:"customerEmail",value:o.customer_email,onChange:function(t){return e.onChangeCustomerDetails("customer_email",t.target.value)}})))),u.a.createElement(N.a,null,s?u.a.createElement("div",null,u.a.createElement(y.a,{variant:"contained",color:"primary",className:"text-white",onClick:function(){return e.onSubmitAddNewCustomerForm()}},u.a.createElement(D.a,{id:"button.add"}))," ",u.a.createElement(y.a,{variant:"contained",className:"btn-danger text-white",onClick:this.toggleEditCustomerModal},u.a.createElement(D.a,{id:"button.cancel"}))):u.a.createElement("div",null,u.a.createElement(y.a,{variant:"contained",color:"primary",className:"text-white",onClick:function(){return e.onSubmitCustomerEditDetailForm()}},u.a.createElement(D.a,{id:"button.update"}))," ",u.a.createElement(y.a,{variant:"contained",className:"btn-danger text-white",onClick:this.toggleEditCustomerModal},u.a.createElement(D.a,{id:"button.cancel"}))))),u.a.createElement(w.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:l,onClose:function(){return e.setState({snackbar:!1})},autoHideDuration:2e3,message:u.a.createElement("span",{id:"message-id"},i)}))}}]),t}(m.Component);t.default=z},416:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(382);t.a=function(){return r.a.createElement("div",{className:"d-flex justify-content-center loader-overlay"},r.a.createElement(s.a,null))}},670:function(e,t,a){"use strict";var n=a(3),r=a(10),s=a(0),o=a.n(s),l=(a(1),a(11)),i=a(18),c=a(108),m=Object(c.a)(o.a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var u=o.a.forwardRef((function(e,t){var a=e.alt,s=e.children,i=e.classes,c=e.className,u=e.component,d=void 0===u?"div":u,f=e.imgProps,h=e.sizes,C=e.src,g=e.srcSet,E=e.variant,p=void 0===E?"circle":E,v=Object(r.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),b=null,N=function(e){var t=e.src,a=e.srcSet,n=o.a.useState(!1),r=n[0],s=n[1];return o.a.useEffect((function(){if(t||a){s(!1);var e=!0,n=new Image;return n.src=t,n.srcSet=a,n.onload=function(){e&&s("loaded")},n.onerror=function(){e&&s("error")},function(){e=!1}}}),[t,a]),r}({src:C,srcSet:g}),y=C||g,w=y&&"error"!==N;return b=w?o.a.createElement("img",Object(n.a)({alt:a,src:C,srcSet:g,sizes:h,className:i.img},f)):null!=s?s:y&&a?a[0]:o.a.createElement(m,{className:i.fallback}),o.a.createElement(d,Object(n.a)({className:Object(l.a)(i.root,i.system,i[p],c,!w&&i.colorDefault),ref:t},v),b)}));t.a=Object(i.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(u)}}]);
//# sourceMappingURL=66.1514771d.chunk.js.map